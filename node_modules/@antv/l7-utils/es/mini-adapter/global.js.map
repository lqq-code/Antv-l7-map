{"version":3,"sources":["../../src/mini-adapter/global.ts"],"names":["l7globalThis","getGlobalThis","globalThis","self","window","global","globalWindow","devicePixelRatio","navigator","userAgent","browserLanguage","language","platform","location","document","documentElement","style","createEvent","getElementById","id","createElement","className","classList","add","createElementNS","addEventListener","removeEventListener","querySelector","performance","mark","clearMeasures","measure","clearMarks","create","load","duration","now","Date","getTime","Blob","dispatchEvent","evt","Event","name","data","XMLHttpRequest","requestAnimationFrame","cancelAnimationFrame","clearTimeout"],"mappings":"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","sourcesContent":["let l7globalThis: any;\n\nconst getGlobalThis = (): any => {\n  return (\n    l7globalThis ||\n    (l7globalThis =\n      typeof globalThis !== 'undefined'\n        ? globalThis\n        : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n        ? window\n        : typeof global !== 'undefined'\n        ? global\n        : {})\n  );\n};\nl7globalThis = getGlobalThis();\n\n// TODO: 解决 gastby 服务端构建过程中没有 window 全局变量的问题\nlet globalWindow: Window & typeof l7globalThis;\n\nif (typeof window === 'undefined') {\n  globalWindow = ({\n    devicePixelRatio: 1,\n    navigator: {\n      userAgent:\n        'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36',\n      browserLanguage: 'zh-CN',\n      language: 'zh-CN',\n      platform: '',\n    },\n    location: '',\n    document: {\n      documentElement: {\n        style: {},\n      },\n      createEvent: () => true,\n      getElementById: (id: string) => true,\n      createElement: () => {\n        return {\n          className: '',\n          classList: {\n            add: () => '',\n          },\n        };\n      },\n      createElementNS: () => true,\n      addEventListener: () => true,\n      removeEventListener: () => true,\n      querySelector: () => false,\n    },\n    performance: {\n      mark: (mark: string) => null,\n      clearMeasures: (measure: string) => null,\n      clearMarks: (mark: string) => null,\n      measure: (mark: string, create: string, load: string) => {\n        return {\n          duration: 0,\n        };\n      },\n      now: () => new Date().getTime(),\n    },\n\n    Blob: '',\n    dispatchEvent: (evt: any) => true,\n    Event: (name: string, data: any) => true,\n    createElement: () => true,\n    createElementNS: () => true,\n    XMLHttpRequest: () => true,\n    addEventListener: () => true,\n    removeEventListener: () => true,\n    requestAnimationFrame: () => true,\n    cancelAnimationFrame: () => true,\n    clearTimeout: () => true,\n  } as unknown) as Window & typeof globalThis;\n} else {\n  globalWindow = window;\n}\n\nexport { globalWindow, getGlobalThis, l7globalThis };\n"],"file":"global.js"}